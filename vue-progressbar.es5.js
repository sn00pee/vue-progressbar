"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function assign(t){for(var i,o,e=1;e<arguments.length;++e){o=arguments[e];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}var _vueProgressbar=require("./vue-progressbar.vue"),_vueProgressbar2=_interopRequireDefault(_vueProgressbar);module.exports.install=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=("2"===t.version.split(".")[0],"undefined"!=typeof window),e={canSuccess:!0,show:!1,color:"#73ccec",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s"},autoRevert:!0,location:"top",inverse:!1},s={$vm:null,state:{tFailColor:"",tColor:"",timer:null,cut:0},init:function(t){this.$vm=t},start:function(t){var i=this;this.$vm&&(t||(t=3e3),this.$vm.RADON_LOADING_BAR.percent=0,this.$vm.RADON_LOADING_BAR.options.show=!0,this.$vm.RADON_LOADING_BAR.options.canSuccess=!0,this.state.cut=1e4/Math.floor(t),this.state.timer=setInterval(function(){i.increase(i.state.cut*Math.random()),i.$vm.RADON_LOADING_BAR.percent>95&&i.finish()},100))},set:function(t){this.$vm.RADON_LOADING_BAR.options.show=!0,this.$vm.RADON_LOADING_BAR.options.canSuccess=!0,this.$vm.RADON_LOADING_BAR.percent=Math.floor(t)},get:function(){return Math.floor(this.$vm.RADON_LOADING_BAR.percent)},increase:function(t){this.$vm.RADON_LOADING_BAR.percent=this.$vm.RADON_LOADING_BAR.percent+Math.floor(t)},decrease:function(t){this.$vm.RADON_LOADING_BAR.percent=this.$vm.RADON_LOADING_BAR.percent-Math.floor(t)},hide:function(){var i=this;clearInterval(this.state.timer),this.state.timer=null,setTimeout(function(){i.$vm.RADON_LOADING_BAR.options.show=!1,t.nextTick(function(){setTimeout(function(){i.$vm.RADON_LOADING_BAR.percent=0,i.$vm.$emit("finished")},100),i.$vm.RADON_LOADING_BAR.options.autoRevert&&setTimeout(function(){i.revert()},300)})},800)},pause:function(){clearInterval(this.state.timer)},finish:function(){this.$vm&&(this.$vm.RADON_LOADING_BAR.percent=100,this.hide())},fail:function(){this.$vm.RADON_LOADING_BAR.options.canSuccess=!1,this.$vm.RADON_LOADING_BAR.percent=100,this.hide()},setFailColor:function(t){this.$vm.RADON_LOADING_BAR.options.failedColor=t},setColor:function(t){this.$vm.RADON_LOADING_BAR.options.color=t},setLocation:function(t){this.$vm.RADON_LOADING_BAR.options.location=t},setTransition:function(t){this.$vm.RADON_LOADING_BAR.options.transition=t},tempFailColor:function(t){this.state.tFailColor=this.$vm.RADON_LOADING_BAR.options.failedColor,this.$vm.RADON_LOADING_BAR.options.failedColor=t},tempColor:function(t){this.state.tColor=this.$vm.RADON_LOADING_BAR.options.color,this.$vm.RADON_LOADING_BAR.options.color=t},tempLocation:function(t){this.state.tLocation=this.$vm.RADON_LOADING_BAR.options.location,this.$vm.RADON_LOADING_BAR.options.location=t},tempTransition:function(t){this.state.tTransition=this.$vm.RADON_LOADING_BAR.options.transition,this.$vm.RADON_LOADING_BAR.options.transition=t},revertColor:function(){this.$vm.RADON_LOADING_BAR.options.color=this.state.tColor,this.state.tColor=""},revertFailColor:function(){this.$vm.RADON_LOADING_BAR.options.failedColor=this.state.tFailColor,this.state.tFailColor=""},revertLocation:function(){this.$vm.RADON_LOADING_BAR.options.location=this.state.tLocation,this.state.tLocation=""},revertTransition:function(){this.$vm.RADON_LOADING_BAR.options.transition=this.state.tTransition,this.state.tTransition={}},revert:function(){this.$vm.RADON_LOADING_BAR.options.autoRevert&&(this.state.tColor&&this.revertColor(),this.state.tFailColor&&this.revertFailColor(),this.state.tLocation&&this.revertLocation(),!this.state.tTransition||void 0===this.state.tTransition.speed&&void 0===this.state.tTransition.opacity||this.revertTransition())},parseMeta:function(t){for(var i in t.func){var o=t.func[i];switch(o.call){case"color":switch(o.modifier){case"set":this.setColor(o.argument);break;case"temp":this.tempColor(o.argument)}break;case"fail":switch(o.modifier){case"set":this.setFailColor(o.argument);break;case"temp":this.tempFailColor(o.argument)}break;case"location":switch(o.modifier){case"set":this.setLocation(o.argument);break;case"temp":this.tempLocation(o.argument)}break;case"transition":switch(o.modifier){case"set":this.setTransition(o.argument);break;case"temp":this.tempTransition(o.argument)}}}}},n=assign(e,i),r=new t({data:{RADON_LOADING_BAR:{percent:0,options:n}}});o&&(window.VueProgressBarEventBus=r,s.init(r)),t.component("vue-progress-bar",_vueProgressbar2.default),t.prototype.$Progress=s};